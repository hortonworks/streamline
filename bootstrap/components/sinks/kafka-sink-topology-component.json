{
  "type": "SINK",
  "name": "Kafka",
  "subType": "KAFKA",
  "streamingEngine": "STORM",
  "builtin": true,
  "fieldHintProviderClass": "com.hortonworks.streamline.streams.catalog.topology.component.bundle.impl.KafkaSinkBundleHintProvider",
  "transformationClass": "com.hortonworks.streamline.streams.layout.storm.KafkaBoltFluxComponent",
  "mavenDeps": "org.apache.storm:storm-kafka:STORM_VERSION^org.slf4j:slf4j-log4j12,org.apache.kafka:kafka_2.11:0.10.0.2.5.3.0-37^org.apache.zookeeper:zookeeper^log4j:log4j^org.slf4j:slf4j-log4j12",
  "topologyComponentUISpecification": {
    "fields": [
      {
        "uiName": "Fire And Forget?",
        "fieldName": "fireAndForget",
        "isOptional": true,
        "tooltip": "A flag to indicate if kafka producer should wait for ack or not",
        "type": "boolean",
        "defaultValue": false
      },
      {
        "uiName": "Async?",
        "fieldName": "async",
        "isOptional": true,
        "tooltip": "A flag to indicate whether to use async kafka producer or not",
        "type": "boolean",
        "defaultValue": true 
      },
      {
        "uiName": "Kafka Topic",
        "fieldName": "topic",
        "isOptional": false,
        "tooltip": "Kafka topic to write data to",
        "type": "enumstring",
        "options": [],
        "hint": "schema,override"
      },
      {
        "uiName": "Bootstrap Servers",
        "fieldName": "bootstrapServers",
        "isOptional": false,
        "tooltip": "Comma separated string of host:port kafka brokers",
        "type": "string"
      },
      {
        "uiName": "Key Serializer",
        "fieldName": "keySerializer",
        "isOptional": false,
        "tooltip": "Type of key serializer to use",
        "type": "enumstring",
        "options": ["String", "Integer", "Long", "ByteArray"]
      },
      {
        "uiName": "Key Field",
        "fieldName": "keyField",
        "isOptional": false,
        "tooltip": "Name of the key field",
        "type": "enumstring",
        "options": [],
        "hint": "inputFields"
      },
      {
        "uiName": "Ack Mode",
        "fieldName": "ackMode",
        "isOptional": true,
        "tooltip": "Ack mode used in producer request for a record sent to server(None|Leader|Min in-sync replicas)",
        "type": "enumstring",
        "defaultValue": "Leader",
        "options": ["None", "Leader", "All"]
      },
      {
        "uiName": "Buffer Memory",
        "fieldName": "bufferMemory",
        "isOptional": true,
        "tooltip": "The total bytes of memory the producer can use to buffer records waiting to be sent to the server",
        "type": "string",
        "defaultValue": "33554432"
      },
      {
        "uiName": "Compression Type",
        "fieldName": "compressionType",
        "isOptional": true,
        "tooltip": "The compression type for all data generated by the producer",
        "type": "enumstring",
        "defaultValue": "none",
        "options": ["none", "gzip", "snappy", "lz4"]
      },
      {
        "uiName": "Retries",
        "fieldName": "retries",
        "isOptional": true,
        "tooltip": "Number of retry attempts for a record send failure",
        "type": "string",
        "defaultValue": "0" 
      },
      {
        "uiName": "Batch Size",
        "fieldName": "batchSize",
        "isOptional": true,
        "tooltip": "Producer batch size in bytes for records sent to same partition",
        "type": "string",
        "defaultValue": "16384"
      },
      {
        "uiName": "Client Id",
        "fieldName": "clientId",
        "isOptional": true,
        "tooltip": "Id sent to server in producer request for tracking in server logs",
        "type": "string",
        "defaultValue": ""
      },
      {
        "uiName": "Max Connection Idle",
        "fieldName": "maxConnectionIdle",
        "isOptional": true,
        "tooltip": "Time in milliseconds for which connections can be idle before getting closed",
        "type": "string",
        "defaultValue": "540000" 
      },
      {
        "uiName": "Linger Time",
        "fieldName": "lingerTime",
        "isOptional": true,
        "tooltip": "Time in milliseconds to wait before sending a record out when batch is not full",
        "type": "string",
        "defaultValue": "0" 
      },
      {
        "uiName": "Max Block",
        "fieldName": "maxBlock",
        "isOptional": true,
        "tooltip": "Time in milliseconds that send and partitionsFor methods will block for",
        "type": "string",
        "defaultValue": "60000" 
      },
      {
        "uiName": "Max Request Size",
        "fieldName": "maxRequestSize",
        "isOptional": true,
        "tooltip": "Maximum size of a request in bytes",
        "type": "string",
        "defaultValue": "1048576" 
      },
      {
        "uiName": "Receive Buffer Size",
        "fieldName": "receiveBufferSize",
        "isOptional": true,
        "tooltip": "Size in bytes of TCP receive buffer (SO_RCVBUF) to use when reading data",
        "type": "string",
        "defaultValue": "32768"
      },
      {
        "uiName": "Request Timeout",
        "fieldName": "requestTimeout",
        "isOptional": true,
        "tooltip": "Maximum amount of time in milliseconds the producer will wait for the response of a request",
        "type": "string",
        "defaultValue": "30000"
      },
      {
        "uiName": "Security Protocol",
        "fieldName": "securityProtocol",
        "isOptional": true,
        "tooltip": "Protocol to be used to communicate with kafka brokers",
        "type": "string",
        "defaultValue": "PLAINTEXT",
        "isUserInput": false
      },
      {
        "uiName": "Send Buffer Size",
        "fieldName": "sendBufferSize",
        "isOptional": true,
        "tooltip": "Size in bytes of TCP send buffer (SO_SNDBUF) to use when sending data",
        "type": "string",
        "defaultValue": "131072" 
      },
      {
        "uiName": "Timeout",
        "fieldName": "timeout",
        "isOptional": true,
        "tooltip": "Maximum amount of time in milliseconds server will wait for acks from followers",
        "type": "string",
        "defaultValue": "30000"
      },
      {
        "uiName": "Block On Buffer Full?",
        "fieldName": "blocKOnBufferFull",
        "isOptional": true,
        "tooltip": "Boolean to indicate whether to block on a full buffer or throw an exception",
        "type": "boolean",
        "defaultValue": true 
      },
      {
        "uiName": "Max In-flight Requests",
        "fieldName": "maxInflighRequests",
        "isOptional": true,
        "tooltip": "Maximum number of unacknowledged requests producer will send per connection before blocking",
        "type": "string",
        "defaultValue": "5" 
      },
      {
        "uiName": "Metadata Fetch Timeout",
        "fieldName": "metadataFetchTimeout",
        "isOptional": true,
        "tooltip": "Timeout in milliseconds for a topic metadata fetch request",
        "type": "string",
        "defaultValue": "60000"
      },
      {
        "uiName": "Metadata Max Age",
        "fieldName": "metadataMaxAge",
        "isOptional": true,
        "tooltip": "Time in milliseconds after which a metadata fetch request is forced",
        "type": "string",
        "defaultValue": "300000"
      },
      {
        "uiName": "Reconnect Backoff",
        "fieldName": "reconnectBackoff",
        "isOptional": true,
        "tooltip": "Amount of time in milliseconds to wait before attempting to reconnect to a host",
        "type": "string",
        "defaultValue": "50" 
      },
      {
        "uiName": "Retry Backoff",
        "fieldName": "retryBackoff",
        "isOptional": true,
        "tooltip": "Amount of time in milliseconds to wait before attempting to retry a failed fetch request",
        "type": "string",
        "defaultValue": "100" 
      },
      {
        "uiName": "Parallelism",
        "fieldName": "parallelism",
        "isOptional": true,
        "tooltip": "Parallelism hint for kafka bolt",
        "type": "number",
        "defaultValue": 1
      }
    ]
  }
}
