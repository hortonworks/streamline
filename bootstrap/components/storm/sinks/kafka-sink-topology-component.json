{
  "type": "SINK",
  "name": "Kafka",
  "subType": "KAFKA",
  "streamingEngine": "STORM",
  "builtin": true,
  "fieldHintProviderClass": "com.hortonworks.streamline.streams.cluster.bundle.impl.KafkaSinkBundleHintProvider",
  "transformationClass": "com.hortonworks.streamline.streams.layout.storm.KafkaBoltFluxComponent",
  "mavenDeps": "org.apache.kafka:kafka-clients:0.10.2.1,org.apache.storm:storm-kafka-client:STORM_VERSION^org.slf4j:slf4j-log4j12^log4j:log4j^org.apache.zookeeper:zookeeper^org.apache.kafka:kafka-clients",
  "topologyComponentUISpecification": {
    "fields": [
      {
        "uiName": "Fire And Forget?",
        "fieldName": "fireAndForget",
        "isOptional": true,
        "tooltip": "A flag to indicate if kafka producer should wait for ack or not",
        "type": "boolean",
        "defaultValue": false
      },
      {
        "uiName": "Async?",
        "fieldName": "async",
        "isOptional": true,
        "tooltip": "A flag to indicate whether to use async kafka producer or not",
        "type": "boolean",
        "defaultValue": true 
      },
      {
        "uiName": "Kafka Topic",
        "fieldName": "topic",
        "isOptional": false,
        "tooltip": "Kafka topic to write data to",
        "type": "enumstring",
        "options": [],
        "hint": "schema,override"
      },
      {
        "uiName": "Writer Schema Branch",
        "fieldName": "schemaBranch",
        "isOptional": false,
        "tooltip": "Schema branch to be used fetching for writer schema versions. Default branch is MASTER",
        "type": "enumstring",
        "options": [],
        "hint": "dependsOn-topic,schemaBranch"
      },
      {
        "uiName": "Writer Schema Version",
        "fieldName": "writerSchemaVersion",
        "isOptional": false,
        "tooltip": "Version of schema for topic to use for serializing the message. Default is the latest version for the schema",
        "type": "enumstring",
        "options": [],
        "hint": "dependsOn-schemaBranch,schemaVersion"
      },
      {
        "uiName": "Security Protocol",
        "fieldName": "securityProtocol",
        "isOptional": false,
        "tooltip": "Protocol to be used to communicate with Kafka brokers",
        "type": "enumstring",
        "options": []
      },
      {
        "uiName": "Bootstrap Servers",
        "fieldName": "bootstrapServers",
        "isOptional": false,
        "tooltip": "Comma separated string of host:port kafka brokers",
        "type": "string",
        "hint": "dependsOn-securityProtocol"
      },
      {
        "uiName": "Key Serializer",
        "fieldName": "keySerializer",
        "isOptional": true,
        "tooltip": "Type of key serializer to use",
        "type": "enumstring",
        "options": ["String", "Integer", "Long", "ByteArray"],
        "defaultValue": "ByteArray"
      },
      {
        "uiName": "Key Field",
        "fieldName": "keyField",
        "isOptional": true,
        "tooltip": "Name of the key field",
        "type": "enumstring",
        "options": [],
        "defaultValue": null,
        "hint": "inputFields"
      },
      {
        "uiName": "Ack Mode",
        "fieldName": "ackMode",
        "isOptional": true,
        "tooltip": "Ack mode used in producer request for a record sent to server(None|Leader|Min in-sync replicas)",
        "type": "enumstring",
        "defaultValue": "Leader",
        "options": ["None", "Leader", "All"]
      },
      {
        "uiName": "Buffer Memory",
        "fieldName": "bufferMemory",
        "isOptional": true,
        "tooltip": "The total bytes of memory the producer can use to buffer records waiting to be sent to the server",
        "type": "string",
        "defaultValue": "33554432"
      },
      {
        "uiName": "Compression Type",
        "fieldName": "compressionType",
        "isOptional": true,
        "tooltip": "The compression type for all data generated by the producer",
        "type": "enumstring",
        "defaultValue": "none",
        "options": ["none", "gzip", "snappy", "lz4"]
      },
      {
        "uiName": "Retries",
        "fieldName": "retries",
        "isOptional": true,
        "tooltip": "Number of retry attempts for a record send failure",
        "type": "string",
        "defaultValue": "0" 
      },
      {
        "uiName": "Batch Size",
        "fieldName": "batchSize",
        "isOptional": true,
        "tooltip": "Producer batch size in bytes for records sent to same partition",
        "type": "string",
        "defaultValue": "16384"
      },
      {
        "uiName": "Client Id",
        "fieldName": "clientId",
        "isOptional": true,
        "tooltip": "Id sent to server in producer request for tracking in server logs",
        "type": "string",
        "defaultValue": ""
      },
      {
        "uiName": "Max Connection Idle",
        "fieldName": "maxConnectionIdle",
        "isOptional": true,
        "tooltip": "Time in milliseconds for which connections can be idle before getting closed",
        "type": "string",
        "defaultValue": "540000" 
      },
      {
        "uiName": "Linger Time",
        "fieldName": "lingerTime",
        "isOptional": true,
        "tooltip": "Time in milliseconds to wait before sending a record out when batch is not full",
        "type": "string",
        "defaultValue": "0" 
      },
      {
        "uiName": "Max Block",
        "fieldName": "maxBlock",
        "isOptional": true,
        "tooltip": "Time in milliseconds that send and partitionsFor methods will block for",
        "type": "string",
        "defaultValue": "60000" 
      },
      {
        "uiName": "Max Request Size",
        "fieldName": "maxRequestSize",
        "isOptional": true,
        "tooltip": "Maximum size of a request in bytes",
        "type": "string",
        "defaultValue": "1048576" 
      },
      {
        "uiName": "Receive Buffer Size",
        "fieldName": "receiveBufferSize",
        "isOptional": true,
        "tooltip": "Size in bytes of TCP receive buffer (SO_RCVBUF) to use when reading data",
        "type": "string",
        "defaultValue": "32768"
      },
      {
        "uiName": "Request Timeout",
        "fieldName": "requestTimeout",
        "isOptional": true,
        "tooltip": "Maximum amount of time in milliseconds the producer will wait for the response of a request",
        "type": "string",
        "defaultValue": "30000"
      },
      {
        "uiName": "Kerberos client principal",
        "fieldName": "principal",
        "isOptional": true,
        "tooltip": "Client principal to use to connect to brokers while using SASL GSSAPI mechanism for Kerberos",
        "type": "string",
        "hint": "security_kerberos_required",
        "defaultValue": null
      },
      {
        "uiName": "Kerberos keytab file",
        "fieldName": "keytab",
        "isOptional": true,
        "tooltip": "Keytab file location on worker node containing the secret key for client principal while using SASL GSSAPI mechanism for Kerberos",
        "type": "string",
        "hint": "security_kerberos_required",
        "defaultValue": null
      },
      {
        "uiName": "Kafka service name",
        "fieldName": "kafkaServiceName",
        "isOptional": true,
        "tooltip": "Service name that Kafka broker is running as",
        "type": "string",
        "hint": "security_kerberos_required",
        "defaultValue": null
      },
      {
        "uiName": "Send Buffer Size",
        "fieldName": "sendBufferSize",
        "isOptional": true,
        "tooltip": "Size in bytes of TCP send buffer (SO_SNDBUF) to use when sending data",
        "type": "string",
        "defaultValue": "131072" 
      },
      {
        "uiName": "Timeout",
        "fieldName": "timeout",
        "isOptional": true,
        "tooltip": "Maximum amount of time in milliseconds server will wait for acks from followers",
        "type": "string",
        "defaultValue": "30000"
      },
      {
        "uiName": "Block On Buffer Full?",
        "fieldName": "blocKOnBufferFull",
        "isOptional": true,
        "tooltip": "Boolean to indicate whether to block on a full buffer or throw an exception",
        "type": "boolean",
        "defaultValue": true 
      },
      {
        "uiName": "Max In-flight Requests",
        "fieldName": "maxInflighRequests",
        "isOptional": true,
        "tooltip": "Maximum number of unacknowledged requests producer will send per connection before blocking",
        "type": "string",
        "defaultValue": "5" 
      },
      {
        "uiName": "Metadata Fetch Timeout",
        "fieldName": "metadataFetchTimeout",
        "isOptional": true,
        "tooltip": "Timeout in milliseconds for a topic metadata fetch request",
        "type": "string",
        "defaultValue": "60000"
      },
      {
        "uiName": "Metadata Max Age",
        "fieldName": "metadataMaxAge",
        "isOptional": true,
        "tooltip": "Time in milliseconds after which a metadata fetch request is forced",
        "type": "string",
        "defaultValue": "300000"
      },
      {
        "uiName": "Reconnect Backoff",
        "fieldName": "reconnectBackoff",
        "isOptional": true,
        "tooltip": "Amount of time in milliseconds to wait before attempting to reconnect to a host",
        "type": "string",
        "defaultValue": "50" 
      },
      {
        "uiName": "Retry Backoff",
        "fieldName": "retryBackoff",
        "isOptional": true,
        "tooltip": "Amount of time in milliseconds to wait before attempting to retry a failed fetch request",
        "type": "string",
        "defaultValue": "100" 
      },
      {
        "uiName": "Serialization Protocol Version",
        "fieldName": "serProtocolVersion",
        "isOptional": true,
        "tooltip": "Protocol version to be used for serialization",
        "type": "number",
        "defaultValue": 1,
        "min": 0,
        "max": 3
      },
      {
        "uiName": "SSL keystore location",
        "fieldName": "sslKeystoreLocation",
        "isOptional": true,
        "tooltip": "The location of the key store file",
        "type": "string",
        "hint": "security_ssl",
        "defaultValue": null
      },
      {
        "uiName": "SSL keystore password",
        "fieldName": "sslKeystorePassword",
        "isOptional": true,
        "tooltip": "The store password for the key store file",
        "type": "string",
        "hint": "security_ssl,password",
        "defaultValue": null
      },
      {
        "uiName": "SSL key password",
        "fieldName": "sslKeyPassword",
        "isOptional": true,
        "tooltip": "The password of the private key in the key store file",
        "type": "string",
        "hint": "security_ssl,password",
        "defaultValue": null
      },
      {
        "uiName": "SSL truststore location",
        "fieldName": "sslTruststoreLocation",
        "isOptional": true,
        "tooltip": "The location of the trust store file",
        "type": "string",
        "hint": "security_ssl_required",
        "defaultValue": null
      },
      {
        "uiName": "SSL truststore password",
        "fieldName": "sslTruststorePassword",
        "isOptional": true,
        "tooltip": "The password for the trust store file",
        "type": "string",
        "hint": "security_ssl_required,password",
        "defaultValue": null
      },
      {
        "uiName": "SSL enabled protocols",
        "fieldName": "sslEnabledProtocols",
        "isOptional": true,
        "tooltip": "Comma separated list of protocols enabled for SSL connections",
        "type": "string",
        "hint": "security_ssl",
        "defaultValue": null
      },
      {
        "uiName": "SSL keystore type",
        "fieldName": "sslKeystoreType",
        "isOptional": true,
        "tooltip": "File format of keystore file",
        "type": "string",
        "hint": "security_ssl",
        "defaultValue": "JKS"
      },
      {
        "uiName": "SSL truststore type",
        "fieldName": "sslTruststoreType",
        "isOptional": true,
        "tooltip": "File format of truststore file",
        "type": "string",
        "hint": "security_ssl",
        "defaultValue": "JKS"
      },
      {
        "uiName": "SSL protocol",
        "fieldName": "sslProtocol",
        "isOptional": true,
        "tooltip": "SSL protocol used to generate SSLContext",
        "type": "string",
        "hint": "security_ssl",
        "defaultValue": "TLS"
      },
      {
        "uiName": "SSL provider",
        "fieldName": "sslProvider",
        "isOptional": true,
        "tooltip": "Security provider used for SSL connections. Default value is default security provider for JVM",
        "type": "string",
        "hint": "security_ssl",
        "defaultValue": null
      },
      {
        "uiName": "SSL cipher suites",
        "fieldName": "sslCipherSuites",
        "isOptional": true,
        "tooltip": "Comma separated list of cipher suites. This is a named combination of authentication, encryption, MAC and key exchange algorithm used to negotiate the security settings for a network connection using TLS or SSL network protocol. By default all the available cipher suites are supported",
        "type": "string",
        "hint": "security_ssl",
        "defaultValue": null
      },
      {
        "uiName": "SSL endpoint identification algorithm",
        "fieldName": "sslEndpointIdAlgo",
        "isOptional": true,
        "tooltip": "The endpoint identification algorithm to validate server hostname using server certificate",
        "type": "string",
        "hint": "security_ssl",
        "defaultValue": null
      },
      {
        "uiName": "SSL key manager algorithm",
        "fieldName": "sslKeyManagerAlgo",
        "isOptional": true,
        "tooltip": "The algorithm used by key manager factory for SSL connections",
        "type": "string",
        "hint": "security_ssl",
        "defaultValue": "SunX509"
      },
      {
        "uiName": "SSL secure random implementation",
        "fieldName": "sslSecureRandomImpl",
        "isOptional": true,
        "tooltip": "The SecureRandom PRNG implementation to use for SSL cryptography operations",
        "type": "string",
        "hint": "security_ssl",
        "defaultValue": null
      },
      {
        "uiName": "SSL trust manager algorithm",
        "fieldName": "sslTrustManagerAlgo",
        "isOptional": true,
        "tooltip": "The algorithm used by trust manager factory for SSL connections. Default value is the trust manager factory algorithm configured for the Java Virtual Machine",
        "type": "string",
        "hint": "security_ssl",
        "defaultValue": "PKIX"
      },
      {
        "uiName": "Parallelism",
        "fieldName": "parallelism",
        "isOptional": true,
        "tooltip": "Parallelism hint for kafka bolt",
        "type": "number",
        "defaultValue": 1,
        "min": 1,
        "hint": "hidden"
      }
    ]
  }
}
