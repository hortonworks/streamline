{"name":"topology1","id":3,"timestamp":1443490900115, "config":"{\"config\":{\"hbaseConf\":{\"hbase.rootdir\":\"hdfs://localhost:9000/tmp/hbase\"},\"local.parser.jar.path\":\"/tmp\",\"local.notifier.jar.path\":\"/tmp\"},\"dataSources\":[{\"uiname\":\"kafkaDataSource\",\"type\":\"KAFKA\",\"transformationClass\":\"com.hortonworks.iotas.topology.storm.KafkaSpoutFluxComponent\",\"config\":{\"zkUrl\":\"localhost:2181\",\"zkPath\":\"/brokers\",\"refreshFreqSecs\":60,\"topic\":\"nest-topic\",\"zkRoot\":\"/Iotas-kafka-spout\",\"spoutConfigId\":\"nest-kafka-spout-config\",\"fetchSizeBytes\":1048576,\"socketTimeoutMs\":10000,\"fetchMaxWait\":10000,\"bufferSizeBytes\":1048576,\"ignoreZkOffsets\":true,\"maxOffsetBehind\":9223372036854775807,\"useStartOffsetTimeIfOffsetOutOfRange\":true,\"metricsTimeBucketSizeInSecs\":60,\"stateUpdateIntervalMs\":2000,\"retryInitialDelayMs\":0,\"retryDelayMultiplier\":1,\"retryDelayMaxMs\":60000,\"parallelism\":1}}],\"processors\":[{\"uiname\":\"parserProcessor\",\"type\":\"PARSER\",\"schemaClass\":\"com.hortonworks.iotas.layout.schema.ParserSchemaEvolver\",\"transformationClass\":\"com.hortonworks.iotas.topology.storm.ParserBoltFluxComponent\",\"config\":{\"parsedTuplesStream\":\"parsedTuplesStream\",\"failedTuplesStream\":\"failedTuplesStream\",\"parallelism\":1}},{\"uiname\":\"consoleCustomProcessor\",\"type\":\"CUSTOM\",\"schemaClass\":\"com.hortonworks.iotas.layout.schema.CustomProcessorSchemaEvolver\",\"transformationClass\":\"com.hortonworks.iotas.topology.storm.CustomProcessorBoltFluxComponent\",\"config\":{\"config.configField\":\"test value\",\"name\":\"Console Custom Processor\",\"description\":\"Console Custom Processor\",\"imageFileName\":\"image.gif\",\"jarFileName\":\"iotas-core.jar\",\"localJarPath\":\"/tmp\",\"customProcessorImpl\":\"com.hortonworks.iotas.processor.examples.ConsoleCustomProcessor\",\"inputSchema\":{\"fields\":[{\"name\":\"childField1\",\"type\":\"INTEGER\"},{\"name\":\"childField2\",\"type\":\"BOOLEAN\"},{\"name\":\"topLevelStringField\",\"type\":\"STRING\"}]},\"outputStreamToSchema\":{\"stream1\":{\"fields\":[{\"name\":\"childField1\",\"type\":\"INTEGER\"},{\"name\":\"childField2\",\"type\":\"BOOLEAN\"},{\"name\":\"topLevelStringField\",\"type\":\"STRING\"}]}},\"parallelism\":1}},{\"uiname\":\"ruleProcessor\",\"type\":\"RULE\",\"schemaClass\":\"com.hortonworks.iotas.layout.schema.RulesProcessorSchemaEvolver\",\"transformationClass\":\"com.hortonworks.iotas.topology.storm.RuleBoltFluxComponent\",\"config\":{\"parallelism\":1,\"rulesProcessorConfig\":{\"rules\":[{\"name\":\"rule_1\",\"id\":1,\"ruleProcessorName\":\"rule_processsor_1\",\"condition\":{\"conditionElements\":[{\"firstOperand\":{\"name\":\"ambient_temperature_f\",\"type\":\"INTEGER\"},\"operation\":\"LESS_THAN\",\"secondOperand\":\"100\",\"logicalOperator\":\"AND\"},{\"firstOperand\":{\"name\":\"humidity\",\"type\":\"INTEGER\"},\"operation\":\"LESS_THAN\",\"secondOperand\":\"50\",\"logicalOperator\":null}]},\"actions\":[{\"name\":\"hbasesink\"},{\"name\":\"hdfssink\"}],\"description\":\"rule_1_desc\"},{\"name\":\"rule_2\",\"id\":2,\"ruleProcessorName\":\"rule_processsor_1\",\"condition\":{\"conditionElements\":[{\"firstOperand\":{\"name\":\"ambient_temperature_f\",\"type\":\"INTEGER\"},\"operation\":\"GREATER_THAN\",\"secondOperand\":\"100\",\"logicalOperator\":\"OR\"},{\"firstOperand\":{\"name\":\"humidity\",\"type\":\"INTEGER\"},\"operation\":\"GREATER_THAN\",\"secondOperand\":\"50\",\"logicalOperator\":null}]},\"actions\":[{\"name\":\"hbasesink\"},{\"name\":\"hdfssink\"}],\"description\":\"rule_2_desc\"}],\"name\":\"rule_processsor_1\",\"id\":1,\"description\":\"rule_processsor_1_desc\",\"declaredInput\":[{\"name\":\"ambient_temperature_f\",\"type\":\"INTEGER\"},{\"name\":\"humidity\",\"type\":\"INTEGER\"}]}}}],\"dataSinks\":[{\"uiname\":\"hbasesink\",\"type\":\"HBASE\",\"transformationClass\":\"com.hortonworks.iotas.topology.storm.HbaseBoltFluxComponent\",\"config\":{\"configKey\":\"hbaseConf\",\"table\":\"nest\",\"columnFamily\":\"cf\",\"parallelism\":1}},{\"uiname\":\"hdfssink\",\"type\":\"HDFS\",\"transformationClass\":\"com.hortonworks.iotas.topology.storm.HdfsBoltFluxComponent\",\"config\":{\"fsUrl\":\"hdfs://localhost:9000\",\"configKey\":\"hdfsConf\",\"path\":\"/tmp/failed-tuples\",\"prefix\":\"data\",\"extension\":\"dat\",\"countPolicyValue\":1,\"rotationInterval\":10,\"rotationIntervalUnit\":\"SECONDS\",\"parallelism\":1}}],\"links\":[{\"uiname\":\"kafkaDataSource->parserProcessor\",\"type\":\"SHUFFLE\",\"transformationClass\":\"com.hortonworks.iotas.topology.storm.ShuffleGroupingLinkFluxComponent\",\"config\":{\"from\":\"kafkaDataSource\",\"to\":\"parserProcessor\"}},{\"uiname\":\"parserProcessor-parsedTuples->consoleCustomProcessor\",\"type\":\"SHUFFLE\",\"transformationClass\":\"com.hortonworks.iotas.topology.storm.ShuffleGroupingLinkFluxComponent\",\"config\":{\"from\":\"parserProcessor\",\"to\":\"consoleCustomProcessor\",\"streamId\":\"parsedTuplesStream\"}},{\"uiname\":\"consoleCustomProcessor-stream1->ruleProcessor\",\"type\":\"SHUFFLE\",\"transformationClass\":\"com.hortonworks.iotas.topology.storm.ShuffleGroupingLinkFluxComponent\",\"config\":{\"from\":\"consoleCustomProcessor\",\"to\":\"ruleProcessor\",\"streamId\":\"stream1\"}},{\"uiname\":\"ruleProcessor-rule1->hbasesink\",\"type\":\"SHUFFLE\",\"transformationClass\":\"com.hortonworks.iotas.topology.storm.ShuffleGroupingLinkFluxComponent\",\"config\":{\"from\":\"ruleProcessor\",\"to\":\"hbasesink\",\"streamId\":\"rule_processsor_1.rule_1.1.hbasesink\"}},{\"uiname\":\"ruleProcessor-rule2->hbasesink\",\"type\":\"SHUFFLE\",\"transformationClass\":\"com.hortonworks.iotas.topology.storm.ShuffleGroupingLinkFluxComponent\",\"config\":{\"from\":\"ruleProcessor\",\"to\":\"hbasesink\",\"streamId\":\"rule_processsor_1.rule_2.2.hbasesink\"}},{\"uiname\":\"parserProcessor-failedTuples->hdfssink\",\"type\":\"SHUFFLE\",\"transformationClass\":\"com.hortonworks.iotas.topology.storm.ShuffleGroupingLinkFluxComponent\",\"config\":{\"from\":\"parserProcessor\",\"to\":\"hdfssink\",\"streamId\":\"failedTuplesStream\"}}]}"}